#include <stdio.h>
#include <stdlib.h>
#include <string.h>
int main(int argc, char *argv[]){

    FILE* in_file;
    FILE* out_file;

    in_file = fopen(argv[2],"r");
    out_file = fopen(argv[4], "w");

     
    char  words[300];
    char* ptrs_to_words[300];
    //char* last_word;
    //int line_length;
   // unsigned long int len;
    int num_lines;
    //int i;
    int j;
    //int k;
    num_lines =4;

    	    

    while(feof(in_file) == 0){
	   
           fread(words, sizeof(char)*512, 4, in_file);	    
	   ptrs_to_words[num_lines] = strdup(words);

	   
	  

   
    }

   

  //last_word = ptrs_to_words[num_lines-1];


  
  
   //fwrite(ptrs_to_words[0], sizeof(char)*512, 1, out_file);
   for(j=0; j<num_lines/2; j++){
	printf("%s", ptrs_to_words[num_lines]);   
	fwrite(ptrs_to_words[num_lines],1, sizeof(char)*512, out_file);
	fwrite(ptrs_to_words[num_lines-j-1],1, sizeof(char)*512 , out_file);	


   }	

 //  }

    
    fclose(in_file);
    fclose(out_file);
    return 0;

}
